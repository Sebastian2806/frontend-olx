{"version":3,"sources":["actions/types.js","reducers/index.js","store/index.js","theme/GlobalStyles.js","theme/theme.js","components/templates/MainTemplate.js","services/authService.js","components/Header.js","components/templates/HeaderTemplate.js","components/atoms/Image.js","components/atoms/ActionsMenu.js","components/SingleAnnoucement.js","styles/annoucement.styles.js","views/Home.js","views/SignIn.js","actions/index.js","views/SignUp.js","views/AnnoucementDetails.js","helpers/authHeader.js","views/AddAnnoucement.js","views/AccountDetails.js","styles/accountDetails.styles.js","views/App.js","index.js"],"names":["AUTH_SUCCESS","AUTH_FAIL","SIGNUP_SUCCESS","SIGNUP_FAIL","initialState","rootReducer","state","type","payload","user","isLoggedIn","signupStatus","status","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","GlobalStyle","createGlobalStyle","theme","light","yellow","dark","fonts","s","m","l","xl","xxl","xxxl","weight","regular","bold","MainTemplate","children","API_URL","values","fetch","method","headers","body","JSON","stringify","localStorage","removeItem","getItem","useStyles","makeStyles","toolbar","backgroundColor","palette","grey","h1","padding","fontSize","textDecoration","color","flexGrow","h2","textAlign","icon","input","margin","button","Header","classes","useState","currentUser","setCurrentUser","currentUserId","setCurrentUserId","useEffect","token","authService","getCurrentUser","user_id","getCurrentUserId","AppBar","position","Toolbar","className","Link","to","component","RouterLink","IconButton","onClick","logout","HeaderTemplate","container","width","height","image","objectFit","iconContainer","top","left","display","alignItems","justifyContent","iconContainer_hide","Image","props","isLoaded","isError","settings","setSettings","useRef","current","complete","naturalWidth","alt","ref","onLoad","e","onError","cx","CircularProgress","ActionsMenu","ariaContols","ariaLabel","deleteAnnoucement","React","anchorEl","setAnchorEl","open","Boolean","aria-label","aria-controls","aria-haspopup","currentTarget","Menu","id","keepMounted","onClose","MenuItem","root","spacing","flexDirection","breakpoints","up","desriptionContainer","link","fontWeight","typography","fontWeightBold","fontWeightLight","marginTop","negotiate","marginLeft","priceContainer","SingleAnnoucement","_id","title","imageUrl","localization","price","userActions","formatedTitle","length","slice","Paper","elevation","src","Typography","variant","maxWidth","annoucementsContainer","minWidth","listStyle","flexWrap","connect","annoucements","setAnnoucements","then","result","json","ann","catch","err","console","log","map","box","dispatch","authenticate","email","password","setErrors","a","axios","post","setItem","data","message","authenticateAction","history","isLoading","setIsLoading","initialValues","onSubmit","setSubmitting","push","errors","touched","isSubmitting","Box","gutterBottom","error","name","label","as","TextField","value","helperText","Button","size","disabled","SignupSchema","Yup","shape","required","min","max","repeatedPassword","oneOf","signup","put","response","param","msg","errorsObj","forEach","el","signupAction","useHistory","validationSchema","leftContainer","rightContainer","down","paper","marginBottom","paperImg","paperSmall","paperSmallRight","leftMargin","imgSize","maxHeight","AnnoucementDetails","annoucement","setAnnoucement","annId","useParams","Hidden","mdUp","Avatar","phone_number","description","smDown","authHeader","Authorization","AddAnnoucementSchema","typeError","positive","lessThan","matches","category_id","Home","categories","photo","FormData","append","res","success","setFieldValue","multiline","rows","select","option","avatarSize","card","mediaImage","text","addUserForm","addUserFormBtn","AccountDetails","userAnnoucements","setUserAnnoucements","setToken","userId","ann_id","filter","username","resetForm","createMuiTheme","xs","sm","md","lg","PrivateRoute","rest","render","App","ThemeProvider","CssBaseline","exact","path","SignIn","SignUp","AddAnnoucement","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.2238e54f.chunk.js","sourcesContent":["export const AUTH_SUCCESS = 'AUTH_SUCCESS';\r\nexport const AUTH_FAIL = 'AUTH_FAIL';\r\n\r\nexport const SIGNUP_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const SIGNUP_FAIL = 'LOGIN_FAIL';\r\n","import { AUTH_SUCCESS, AUTH_FAIL, SIGNUP_SUCCESS, SIGNUP_FAIL } from '../actions/types';\r\nconst initialState = {};\r\n\r\nconst rootReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case AUTH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...payload,\r\n          isLoggedIn: true,\r\n        },\r\n      };\r\n    case AUTH_FAIL:\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...payload,\r\n          isLoggedIn: false,\r\n        },\r\n      };\r\n    case SIGNUP_SUCCESS:\r\n      return {\r\n        ...state,\r\n        signupStatus: {\r\n          status: payload.status,\r\n        },\r\n      };\r\n    case SIGNUP_FAIL:\r\n      return {\r\n        ...state,\r\n        signupStatus: {\r\n          ...payload,\r\n        },\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducers/index';\r\n\r\n// const store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n","import { createGlobalStyle } from 'styled-components';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n    :root {\r\n        font-family: 'Poppins', sans-serif;  \r\n        --vh: 1vh;\r\n        ${'' /* font-size:62.5%; */}\r\n    }\r\n\r\n    * {\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    body {\r\n        margin: 0;\r\n        padding: 0; \r\n        -webkit-font-smoothing: antialiased;\r\n        -moz-osx-font-smoothing: grayscale;\r\n    }\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","export const theme = {\r\n  light: '#FFFAEE',\r\n  yellow: '#D0A538',\r\n  dark: '#293132',\r\n\r\n  fonts: {\r\n    s: '1.4rem',\r\n    m: '1.8rem',\r\n    l: '2.4rem',\r\n    xl: '3.6rem',\r\n    xxl: '6.4rem',\r\n    xxxl: '12rem',\r\n  },\r\n\r\n  weight: {\r\n    light: '300',\r\n    regular: '500',\r\n    bold: '700',\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport GlobalStyle from '../../theme/GlobalStyles';\r\nimport { theme } from '../../theme/theme';\r\n\r\nconst MainTemplate = ({ children }) => {\r\n  return (\r\n    <>\r\n      <GlobalStyle />\r\n      <ThemeProvider theme={theme}>{children}</ThemeProvider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainTemplate;\r\n","const API_URL = 'http://localhost:8080/';\r\n\r\nclass AuthService {\r\n  signin(values) {\r\n    return fetch(`${API_URL}signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(values),\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user_id');\r\n  }\r\n\r\n  register(values) {\r\n    return fetch(`${API_URL}signup`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(values),\r\n    });\r\n  }\r\n\r\n  getCurrentUser() {\r\n    return localStorage.getItem('token');\r\n  }\r\n\r\n  getCurrentUserId() {\r\n    return localStorage.getItem('user_id');\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { AppBar, Toolbar, IconButton, Link } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport authService from '../services/authService';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  toolbar: {\r\n    backgroundColor: theme.palette.grey['800'],\r\n  },\r\n  h1: {\r\n    padding: '10px 20px',\r\n    fontSize: 30,\r\n    textDecoration: 'none',\r\n    color: '#fff',\r\n    flexGrow: 1,\r\n  },\r\n  h2: {\r\n    fontSize: 30,\r\n    textAlign: 'center',\r\n  },\r\n  icon: {\r\n    color: '#fff',\r\n  },\r\n  input: {\r\n    margin: '0 0 20px 0',\r\n  },\r\n  button: {\r\n    margin: '30px 0 20px 0',\r\n  },\r\n}));\r\n\r\nconst Header = () => {\r\n  const classes = useStyles();\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [currentUserId, setCurrentUserId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const token = authService.getCurrentUser();\r\n    const user_id = authService.getCurrentUserId();\r\n    if (token) {\r\n      setCurrentUser(token);\r\n    }\r\n    if (user_id) {\r\n      setCurrentUserId(user_id);\r\n    }\r\n  }, []);\r\n\r\n  const logOut = () => {\r\n    authService.logout();\r\n    setCurrentUser(null);\r\n  };\r\n\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <Toolbar className={classes.toolbar}>\r\n        <Link className={classes.h1} to=\"/\" component={RouterLink}>\r\n          XLO\r\n        </Link>\r\n        <IconButton\r\n          component={RouterLink}\r\n          className={classes.icon}\r\n          to={!currentUser ? '/signin' : `/userdetails/${currentUserId}`}\r\n        >\r\n          <AccountCircleIcon />\r\n        </IconButton>\r\n        {currentUser ? (\r\n          <>\r\n            <IconButton component={RouterLink} to=\"/addannoucement\" className={classes.icon}>\r\n              <AddIcon />\r\n            </IconButton>\r\n            <IconButton component={RouterLink} to=\"/\" className={classes.icon} onClick={logOut}>\r\n              <ExitToAppIcon />\r\n            </IconButton>\r\n          </>\r\n        ) : null}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport Header from '../Header';\r\n\r\nconst HeaderTemplate = ({ children }) => {\r\n  return (\r\n    <>\r\n      <Header />\r\n      {children}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HeaderTemplate;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport cx from 'classnames';\r\nimport { makeStyles, CircularProgress } from '@material-ui/core';\r\nimport PanoramaIcon from '@material-ui/icons/Panorama';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'relative',\r\n  },\r\n  image: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n  },\r\n  iconContainer: {\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    backgroundColor: theme.palette.grey['800'],\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  iconContainer_hide: {\r\n    display: 'none',\r\n  },\r\n}));\r\n\r\nconst Image = (props) => {\r\n  const classes = useStyles();\r\n  const [settings, setSettings] = useState({\r\n    isLoaded: false,\r\n    isError: false,\r\n  });\r\n\r\n  const image = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const { current } = image;\r\n    if (current && current.complete) {\r\n      if (current.naturalWidth === 0) {\r\n        setSettings({ isError: true, isLoaded: true });\r\n      } else {\r\n        setSettings({ ...settings, isLoaded: true });\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const handleImageLoad = (e) => {\r\n    setSettings({ ...settings, isLoaded: true });\r\n  };\r\n\r\n  const handleImageError = (e) => {\r\n    setSettings({ isError: true, isLoaded: true });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <img\r\n        {...props}\r\n        alt=\"\"\r\n        ref={image}\r\n        onLoad={handleImageLoad}\r\n        onError={handleImageError}\r\n        className={classes.image}\r\n      />\r\n      <div\r\n        className={cx(\r\n          classes.iconContainer,\r\n          settings.isLoaded && !settings.isError && classes.iconContainer_hide,\r\n        )}\r\n      >\r\n        {!settings.isLoaded && <CircularProgress color=\"secondary\" />}\r\n        {settings.isError && <PanoramaIcon />}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Image;\r\n","import React from 'react';\r\nimport { IconButton, Menu, MenuItem } from '@material-ui/core';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\nconst ActionsMenu = ({ ariaContols, ariaLabel, deleteAnnoucement }) => {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = (e) => {\r\n    setAnchorEl(e.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label={ariaLabel ? ariaLabel : 'akcje'}\r\n        aria-controls={ariaContols ? ariaContols : 'actions'}\r\n        aria-haspopup=\"true\"\r\n        onClick={handleClick}\r\n      >\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id={ariaContols ? ariaContols : 'actions'}\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <MenuItem onClick={deleteAnnoucement}>Usuń</MenuItem>\r\n        {/* <MenuItem>Edytuj</MenuItem> */}\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActionsMenu;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport cx from 'classnames';\r\nimport { Paper, Typography } from '@material-ui/core';\r\nimport Image from './atoms/Image';\r\nimport ActionsMenu from './atoms/ActionsMenu';\r\nimport annoucementStyles from '../styles/annoucement.styles';\r\n\r\nconst useStyles = annoucementStyles;\r\n\r\nconst SingleAnnoucement = ({\r\n  _id,\r\n  title,\r\n  imageUrl,\r\n  localization,\r\n  price,\r\n  userActions,\r\n  deleteAnnoucement,\r\n}) => {\r\n  const classes = useStyles();\r\n  const formatedTitle = title.length > 25 ? `${title.slice(0, 25)}...` : title;\r\n\r\n  return (\r\n    <Paper component=\"li\" className={classes.root} elevation={5}>\r\n      <div className={classes.container}>\r\n        <Image title={title} src={`http://localhost:8080/${imageUrl}`} />\r\n      </div>\r\n      <div className={cx(classes.container && classes.desriptionContainer)}>\r\n        <Link className={classes.link} to={`/annoucementDetails/${_id}`}>\r\n          <Typography className={classes.light} component=\"h3\" variant=\"h6\">\r\n            {formatedTitle}\r\n          </Typography>\r\n        </Link>\r\n        <div>\r\n          <Typography variant=\"subtitle2\">{localization}</Typography>\r\n          <div className={classes.priceContainer}>\r\n            <Typography className={classes.bold} component=\"p\" variant=\"h6\">\r\n              {price} zł\r\n              <Typography className={classes.negotiate} component=\"span\" variant=\"caption\">\r\n                do negocjacji\r\n              </Typography>\r\n            </Typography>\r\n            {userActions && <ActionsMenu deleteAnnoucement={() => deleteAnnoucement(_id)} />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default SingleAnnoucement;\r\n","import { makeStyles } from '@material-ui/core';\r\n\r\nconst annoucementStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '95%',\r\n    height: 300,\r\n    margin: theme.spacing(1),\r\n    padding: theme.spacing(1.5),\r\n    backgroundColor: theme.palette.grey['800'],\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'flex-start',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: `calc(50% - (2 * ${theme.spacing(1)}px))`,\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      width: `calc(33.33% - (2 * ${theme.spacing(1)}px))`,\r\n    },\r\n    [theme.breakpoints.up('lg')]: {\r\n      width: `calc(25% - (2 * ${theme.spacing(1)}px))`,\r\n    },\r\n  },\r\n  container: {\r\n    width: '100%',\r\n    height: '50%',\r\n  },\r\n  desriptionContainer: {\r\n    width: '100%',\r\n    height: '50%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n  },\r\n  link: {\r\n    textDecoration: 'none',\r\n    color: '#fff',\r\n  },\r\n  bold: {\r\n    fontWeight: theme.typography.fontWeightBold,\r\n  },\r\n  light: {\r\n    fontWeight: theme.typography.fontWeightLight,\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  negotiate: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  priceContainer: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n}));\r\n\r\nexport default annoucementStyles;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport HeaderTemplate from '../components/templates/HeaderTemplate';\r\nimport SingleAnnoucement from '../components/SingleAnnoucement';\r\nimport { CircularProgress, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: '30px 30px 0 30px',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    margin: '0 auto',\r\n    maxWidth: 1280,\r\n  },\r\n  annoucementsContainer: {\r\n    margin: 0,\r\n    width: '80%',\r\n    padding: theme.spacing(2),\r\n    marginTop: theme.spacing(5),\r\n    maxWidth: 1100,\r\n    minWidth: 300,\r\n    listStyle: 'none',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n    [theme.breakpoints.up('md')]: {\r\n      justifyContent: 'flex-start',\r\n    },\r\n  },\r\n}));\r\n\r\nconst Home = () => {\r\n  const classes = useStyles();\r\n  const [annoucements, setAnnoucements] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetch('https://olxukw.herokuapp.com/getAnnoucements')\r\n      .then((result) => result.json())\r\n      .then((ann) => {\r\n        setAnnoucements(ann.annoucements);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  return (\r\n    <HeaderTemplate>\r\n      <main className={classes.root}>\r\n        {annoucements ? (\r\n          annoucements.length > 0 ? (\r\n            <ul className={classes.annoucementsContainer} component=\"ul\">\r\n              {annoucements.map(({ _id, ...props }) => (\r\n                <SingleAnnoucement key={_id} _id={_id} {...props}></SingleAnnoucement>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <p>Brak ogłoszeń do wyświetlenia</p>\r\n          )\r\n        ) : (\r\n          <CircularProgress color=\"secondary\" />\r\n        )}\r\n      </main>\r\n    </HeaderTemplate>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {};\r\n};\r\n\r\nexport default connect(mapStateToProps)(Home);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport { Formik, Field, Form } from 'formik';\r\nimport { connect } from 'react-redux';\r\nimport { Button, Box, TextField, Typography, CircularProgress } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport HeaderTemplate from '../components/templates/HeaderTemplate';\r\nimport { authenticateAction } from '../actions';\r\n\r\nconst useStyles = makeStyles({\r\n  box: {\r\n    width: 300,\r\n    margin: '0 auto',\r\n    padding: 20,\r\n  },\r\n  h2: {\r\n    fontSize: 30,\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    margin: '0 0 20px 0',\r\n  },\r\n  button: {\r\n    margin: '30px 0 20px 0',\r\n  },\r\n});\r\n\r\nconst SignIn = ({ authenticate, history, user }) => {\r\n  const classes = useStyles();\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // if (user && user.isLoggedIn) {\r\n    //   history.push('/');\r\n    // } else {\r\n    //   history.push('/signin');\r\n    // }\r\n  }, [user, history]);\r\n\r\n  return (\r\n    <HeaderTemplate>\r\n      <Formik\r\n        initialValues={{\r\n          email: '',\r\n          password: '',\r\n        }}\r\n        onSubmit={async ({ email, password }, { setSubmitting, setErrors }) => {\r\n          setSubmitting(true);\r\n          setIsLoading(true);\r\n\r\n          const result = await authenticate(email, password, setErrors);\r\n          if (result) history.push('/');\r\n\r\n          setSubmitting(false);\r\n          setIsLoading(false);\r\n        }}\r\n      >\r\n        {({ values, errors, touched, isSubmitting }) => (\r\n          <Form>\r\n            <Box className={classes.box} display=\"flex\" flexDirection=\"column\">\r\n              <Typography className={classes.h2} variant=\"h2\" gutterBottom>\r\n                Logowanie\r\n              </Typography>\r\n              <Field\r\n                error={!!(errors.email && touched.email)}\r\n                type=\"email\"\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                variant=\"outlined\"\r\n                as={TextField}\r\n                className={classes.input}\r\n                value={values.email}\r\n                helperText={!!(errors.email && touched.email) ? errors.email : null}\r\n              />\r\n              <Field\r\n                error={!!(errors.password && touched.password)}\r\n                type=\"password\"\r\n                name=\"password\"\r\n                label=\"Hasło\"\r\n                variant=\"outlined\"\r\n                as={TextField}\r\n                className={classes.input}\r\n                value={values.password}\r\n                helperText={!!(errors.password && touched.password) ? errors.password : null}\r\n              />\r\n              <Button\r\n                className={classes.button}\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                color=\"primary\"\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n              >\r\n                {isLoading ? <CircularProgress color=\"secondary\" /> : 'Zaloguj się'}\r\n              </Button>\r\n              <Button to=\"/signup\" component={RouterLink}>\r\n                Nie masz konta?\r\n              </Button>\r\n            </Box>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </HeaderTemplate>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ user }) => ({\r\n  user,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  authenticate: (email, password, setErrors) =>\r\n    dispatch(authenticateAction(email, password, setErrors)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);\r\n","import axios from 'axios';\r\nimport { AUTH_SUCCESS, AUTH_FAIL, SIGNUP_SUCCESS, SIGNUP_FAIL } from './types';\r\n\r\nexport const signupAction = (email, password, repeatedPassword, setErrors) => async (dispatch) => {\r\n  try {\r\n    const payload = await axios.put('https://olxukw.herokuapp.com/signup', {\r\n      email,\r\n      password,\r\n      repeatedPassword,\r\n    });\r\n    dispatch({ type: SIGNUP_SUCCESS, payload });\r\n  } catch (err) {\r\n    const payload = {\r\n      errors: err.response.data.errors\r\n        ? err.response.data.errors\r\n        : [\r\n            {\r\n              param: 'email',\r\n              msg: 'Błąd serwera!',\r\n            },\r\n          ],\r\n    };\r\n    const errorsObj = {};\r\n    payload.errors.forEach((el) => (errorsObj[el.param] = el.msg));\r\n    setErrors(errorsObj);\r\n    dispatch({ type: SIGNUP_FAIL, payload });\r\n  }\r\n};\r\n\r\nexport const authenticateAction = (email, password, setErrors) => async (dispatch) => {\r\n  try {\r\n    const payload = await axios.post('https://olxukw.herokuapp.com/signin', {\r\n      email,\r\n      password,\r\n    });\r\n    localStorage.setItem('token', payload.data.token);\r\n    localStorage.setItem('user_id', payload.data.user_id);\r\n    dispatch({ type: AUTH_SUCCESS, payload: payload.data });\r\n    return true;\r\n  } catch (err) {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user_id');\r\n    setErrors({ email: 'Niepoprawny email lub hasło' });\r\n    dispatch({ type: AUTH_FAIL, payload: { message: 'Niepoprawny email lub hasło' } });\r\n    return false;\r\n  }\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport HeaderTemplate from '../components/templates/HeaderTemplate';\r\nimport { Link as RouterLink, useHistory } from 'react-router-dom';\r\nimport { Formik, Field, Form } from 'formik';\r\nimport { connect } from 'react-redux';\r\nimport * as Yup from 'yup';\r\nimport { Button, Box, TextField, Typography, CircularProgress } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { signupAction } from '../actions/index';\r\n\r\nconst useStyles = makeStyles({\r\n  box: {\r\n    width: 300,\r\n    margin: '0 auto',\r\n    padding: 20,\r\n  },\r\n  h2: {\r\n    fontSize: 30,\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    margin: '0 0 20px 0',\r\n  },\r\n  button: {\r\n    margin: '30px 0 20px 0',\r\n  },\r\n});\r\n\r\nconst SignupSchema = Yup.object().shape({\r\n  email: Yup.string().email('Niepoprawny adres email!').required('Pole wymagane!'),\r\n  password: Yup.string()\r\n    .min(5, 'Hasło zbyt krótkie!')\r\n    .max(25, 'Hasło zbyt długie!')\r\n    .required('Pole wymagane!'),\r\n  repeatedPassword: Yup.string()\r\n    .oneOf([Yup.ref('password'), null], 'Hasła muszą pasować!')\r\n    .required('Pole wymagane!'),\r\n});\r\n\r\nconst SignUp = ({ signup, signupStatus }) => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (signupStatus && signupStatus.status && signupStatus.status === 201) {\r\n      history.push('/signin');\r\n    }\r\n  }, [signupStatus, history]);\r\n\r\n  return (\r\n    <HeaderTemplate>\r\n      <Formik\r\n        initialValues={{\r\n          email: '',\r\n          password: '',\r\n          repeatedPassword: '',\r\n        }}\r\n        validationSchema={SignupSchema}\r\n        onSubmit={async ({ email, password, repeatedPassword }, { setSubmitting, setErrors }) => {\r\n          setSubmitting(true);\r\n          setIsLoading(true);\r\n\r\n          await signup(email, password, repeatedPassword, setErrors);\r\n\r\n          setSubmitting(false);\r\n          setIsLoading(false);\r\n        }}\r\n      >\r\n        {({ values, errors, touched, isSubmitting }) => (\r\n          <Form>\r\n            <Box className={classes.box} display=\"flex\" flexDirection=\"column\">\r\n              <Typography className={classes.h2} variant=\"h2\" gutterBottom>\r\n                Rejestracja\r\n              </Typography>\r\n              <Field\r\n                error={!!(errors.email && touched.email)}\r\n                type=\"email\"\r\n                name=\"email\"\r\n                label=\"Email\"\r\n                variant=\"outlined\"\r\n                as={TextField}\r\n                className={classes.input}\r\n                value={values.email}\r\n                helperText={!!(errors.email && touched.email) ? errors.email : null}\r\n              />\r\n              <Field\r\n                error={!!(errors.password && touched.password)}\r\n                type=\"password\"\r\n                name=\"password\"\r\n                label=\"Hasło\"\r\n                variant=\"outlined\"\r\n                as={TextField}\r\n                className={classes.input}\r\n                value={values.password}\r\n                helperText={!!errors.password ? errors.password : null}\r\n              />\r\n              <Field\r\n                error={!!(errors.repeatedPassword && touched.repeatedPassword)}\r\n                type=\"password\"\r\n                name=\"repeatedPassword\"\r\n                label=\"Powtórz hasło\"\r\n                variant=\"outlined\"\r\n                as={TextField}\r\n                className={classes.input}\r\n                value={values.repeatedPassword}\r\n                helperText={\r\n                  !!(errors.repeatedPassword && touched.repeatedPassword)\r\n                    ? errors.repeatedPassword\r\n                    : null\r\n                }\r\n              />\r\n              <Button\r\n                className={classes.button}\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                color=\"primary\"\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n              >\r\n                {isLoading ? <CircularProgress color=\"secondary\" /> : 'Zarejestruj się'}\r\n              </Button>\r\n              <Button to=\"/signin\" component={RouterLink}>\r\n                Masz już konto?\r\n              </Button>\r\n            </Box>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </HeaderTemplate>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { signupStatus } = state;\r\n  return { signupStatus };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  signup: (email, password, repeatedPassword, setErrors) =>\r\n    dispatch(signupAction(email, password, repeatedPassword, setErrors)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\r\n","import React, { useState, useEffect } from 'react';\r\nimport HeaderTemplate from '../components/templates/HeaderTemplate';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Button,\r\n  CircularProgress,\r\n  makeStyles,\r\n  Paper,\r\n  Typography,\r\n  Avatar,\r\n  Hidden,\r\n} from '@material-ui/core';\r\nimport PlaceIcon from '@material-ui/icons/Place';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport cx from 'classnames';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    padding: '30px 30px 0 30px',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    margin: '0 auto',\r\n    maxWidth: 900,\r\n  },\r\n  box: {\r\n    display: 'flex',\r\n    width: '100%',\r\n  },\r\n  leftContainer: {\r\n    padding: theme.spacing(1),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '65%',\r\n    },\r\n  },\r\n  rightContainer: {\r\n    width: '100%',\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'flex',\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      display: 'block',\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      padding: theme.spacing(1),\r\n      width: '35%',\r\n    },\r\n  },\r\n  paper: {\r\n    marginBottom: theme.spacing(2),\r\n    padding: theme.spacing(2),\r\n  },\r\n  paperImg: {\r\n    height: 270,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  paperSmall: {\r\n    [theme.breakpoints.down('md')]: {\r\n      width: '50%',\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      width: '100%',\r\n    },\r\n  },\r\n  paperSmallRight: {\r\n    [theme.breakpoints.down('md')]: {\r\n      marginLeft: theme.spacing(2),\r\n    },\r\n    [theme.breakpoints.down('xs')]: {\r\n      marginLeft: 0,\r\n    },\r\n  },\r\n  leftMargin: {\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  imgSize: {\r\n    maxWidth: '100%',\r\n    maxHeight: '100%',\r\n  },\r\n}));\r\n\r\nconst AnnoucementDetails = () => {\r\n  const classes = useStyles();\r\n  const [annoucement, setAnnoucement] = useState(null);\r\n  const { annId } = useParams();\r\n\r\n  useEffect(() => {\r\n    fetch(`https://olxukw.herokuapp.com/getAnnoucement/${annId}`)\r\n      .then((result) => result.json())\r\n      .then((ann) => {\r\n        setAnnoucement(ann.annoucement);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  return (\r\n    <HeaderTemplate>\r\n      <main className={classes.root}>\r\n        {annoucement ? (\r\n          <section className={classes.box}>\r\n            <div className={classes.leftContainer}>\r\n              <Paper className={cx(classes.paperImg, classes.paper)}>\r\n                <img\r\n                  className={classes.imgSize}\r\n                  alt={annoucement.title}\r\n                  src={annoucement.imageUrl}\r\n                />\r\n              </Paper>\r\n              <Hidden mdUp>\r\n                <div className={classes.rightContainer}>\r\n                  <Paper className={cx(classes.paper, classes.paperSmall)}>\r\n                    <Typography component=\"h2\" variant=\"h5\">\r\n                      Użytkownik\r\n                    </Typography>\r\n                    <Button to={`/userdetails/${annoucement.user_id._id}`} component={Link}>\r\n                      <Avatar>\r\n                        <PersonIcon />\r\n                      </Avatar>\r\n                      <Typography variant=\"body1\" className={classes.leftMargin}>\r\n                        {annoucement.user_id.email}\r\n                      </Typography>\r\n                    </Button>\r\n                    <Typography variant=\"body2\" className={classes.leftMargin}>\r\n                      <Typography variant=\"button\" component=\"span\">\r\n                        Zadzwoń:\r\n                      </Typography>\r\n                      {annoucement.phone_number}\r\n                    </Typography>\r\n                  </Paper>\r\n                  <Paper className={cx(classes.paper, classes.paperSmall, classes.paperSmallRight)}>\r\n                    <Typography component=\"h2\" variant=\"h5\">\r\n                      Lokalizacja\r\n                    </Typography>\r\n                    <Box display=\"flex\" alignItems=\"center\">\r\n                      <Avatar>\r\n                        <PlaceIcon />\r\n                      </Avatar>\r\n                      <Typography variant=\"body1\" className={classes.leftMargin}>\r\n                        {annoucement.localization}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Paper>\r\n                </div>\r\n              </Hidden>\r\n              <Paper className={classes.paper}>\r\n                <Typography component=\"h2\" variant=\"h5\">\r\n                  Opis\r\n                </Typography>\r\n                <Typography variant=\"body1\">{annoucement.description}</Typography>\r\n              </Paper>\r\n            </div>\r\n            <Hidden smDown>\r\n              <div className={classes.rightContainer}>\r\n                <Paper className={classes.paper}>\r\n                  <Typography component=\"h2\" variant=\"h5\">\r\n                    Użytkownik\r\n                  </Typography>\r\n                  <Button to={`/userdetails/${annoucement.user_id._id}`} component={Link}>\r\n                    <Avatar>\r\n                      <PersonIcon />\r\n                    </Avatar>\r\n                    <Typography variant=\"body1\" className={classes.leftMargin}>\r\n                      {annoucement.user_id.email}\r\n                    </Typography>\r\n                  </Button>\r\n                  <Typography variant=\"body2\" className={classes.leftMargin}>\r\n                    <Typography variant=\"button\" component=\"span\">\r\n                      Zadzwoń:\r\n                    </Typography>\r\n                    {annoucement.phone_number}\r\n                  </Typography>\r\n                </Paper>\r\n                <Paper className={classes.paper}>\r\n                  <Typography component=\"h2\" variant=\"h5\">\r\n                    Lokalizacja\r\n                  </Typography>\r\n                  <Box display=\"flex\" alignItems=\"center\">\r\n                    <Avatar>\r\n                      <PlaceIcon />\r\n                    </Avatar>\r\n                    <Typography variant=\"body1\" className={classes.leftMargin}>\r\n                      {annoucement.localization}\r\n                    </Typography>\r\n                  </Box>\r\n                </Paper>\r\n              </div>\r\n            </Hidden>\r\n          </section>\r\n        ) : (\r\n          <CircularProgress color=\"secondary\" />\r\n        )}\r\n      </main>\r\n    </HeaderTemplate>\r\n  );\r\n};\r\n\r\nexport default AnnoucementDetails;\r\n","export default function authHeader() {\r\n  const token = localStorage.getItem('token');\r\n\r\n  if (token) {\r\n    return { Authorization: 'Bearer ' + token };\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Formik, Field, Form } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport {\r\n  Button,\r\n  Box,\r\n  TextField,\r\n  Typography,\r\n  CircularProgress,\r\n  MenuItem,\r\n  Paper,\r\n} from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport HeaderTemplate from '../components/templates/HeaderTemplate';\r\nimport authHeader from '../helpers/authHeader';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  box: {\r\n    width: 300,\r\n    margin: '0 auto',\r\n    padding: 20,\r\n  },\r\n  h2: {\r\n    fontSize: 30,\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    margin: '0 0 20px 0',\r\n  },\r\n  button: {\r\n    margin: '30px 0 20px 0',\r\n  },\r\n  paper: {\r\n    margin: '0 0 20px 0',\r\n  },\r\n}));\r\n\r\nconst phoneRegExp = /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/;\r\nconst categoryIdRegExp = /^[0-9a-zA-Z]{24}$|^[0-9a-zA-Z]{12}$/;\r\n\r\nconst AddAnnoucementSchema = Yup.object().shape({\r\n  title: Yup.string().max(40, 'Tytuł może mieć maksymalnie 40 znaków!').required('Pole wymagane!'),\r\n  price: Yup.number()\r\n    .typeError('Dozwolone są tylko cyfry!')\r\n    .positive('Liczba musi być dodatnia!')\r\n    .lessThan(1000000, 'Maksymalnie 1000000!')\r\n    .required('Pole wymagane!'),\r\n  description: Yup.string()\r\n    .max(200, 'Opis może mieć maksymalnie 200 znaków!')\r\n    .required('Pole wymagane!'),\r\n  phone_number: Yup.string()\r\n    .matches(phoneRegExp, 'Numer telefonu nie jest poprawny!')\r\n    .required('Pole wymagane!'),\r\n  localization: Yup.string()\r\n    .max(40, 'Lokalizacja może mieć maksymalnie 40 znaków!')\r\n    .required('Pole wymagane!'),\r\n  category_id: Yup.string().matches(categoryIdRegExp, 'Wystąpił błąd!').required('Pole wymagane!'),\r\n});\r\n\r\nconst Home = () => {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const categories = [\r\n    {\r\n      _id: '5f89da8c85d20106ed1fd759',\r\n      name: 'Dom i ogród',\r\n    },\r\n    {\r\n      _id: '5f89daa185d20106ed1fd75a',\r\n      name: 'Motoryzacja',\r\n    },\r\n    {\r\n      _id: '5f89daa585d20106ed1fd75b',\r\n      name: 'Praca',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <HeaderTemplate>\r\n      <Formik\r\n        initialValues={{\r\n          title: '',\r\n          price: '',\r\n          description: '',\r\n          phone_number: '',\r\n          localization: '',\r\n          category_id: '',\r\n          photo: '',\r\n        }}\r\n        validationSchema={AddAnnoucementSchema}\r\n        onSubmit={(values, { setSubmitting, setErrors }) => {\r\n          let data = new FormData();\r\n          data.append('title', values.title);\r\n          data.append('price', values.price);\r\n          data.append('description', values.description);\r\n          data.append('phone_number', values.phone_number);\r\n          data.append('localization', values.localization);\r\n          data.append('category_id', values.category_id);\r\n          data.append('photo', values.photo);\r\n\r\n          setIsLoading(true);\r\n          setSubmitting(true);\r\n          fetch('https://olxukw.herokuapp.com/addAnnoucement', {\r\n            method: 'PUT',\r\n            body: data,\r\n            headers: authHeader(),\r\n          })\r\n            .then((res) => res.json())\r\n            .then((ann) => {\r\n              console.log(ann);\r\n              setSubmitting(false);\r\n              setIsLoading(false);\r\n              if (ann.errors) {\r\n                const err = {};\r\n                ann.errors.forEach((el) => (err[el.param] = el.msg));\r\n                setErrors(err);\r\n              } else if (!ann.success) {\r\n                setErrors({ title: 'Występił błąd serwera!' });\r\n              } else {\r\n                history.push('/');\r\n              }\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }}\r\n      >\r\n        {({ values, errors, touched, isSubmitting, setFieldValue }) => (\r\n          <Form>\r\n            <Box className={classes.box} display=\"flex\" flexDirection=\"column\">\r\n              <Typography className={classes.h2} variant=\"h2\" gutterBottom>\r\n                Dodaj ogłoszenie\r\n              </Typography>\r\n              <Field\r\n                error={!!(errors.title && touched.title)}\r\n                name=\"title\"\r\n                label=\"Tytuł\"\r\n                variant=\"outlined\"\r\n                as={TextField}\r\n                className={classes.input}\r\n                value={values.title}\r\n                helperText={!!(errors.title && touched.title) ? errors.title : null}\r\n              />\r\n              <Field\r\n                error={!!(errors.price && touched.price)}\r\n                name=\"price\"\r\n                label=\"Cena\"\r\n                variant=\"outlined\"\r\n                as={TextField}\r\n                className={classes.input}\r\n                value={values.price}\r\n                helperText={!!(errors.price && touched.price) ? errors.price : null}\r\n              />\r\n              <Field\r\n                error={!!(errors.description && touched.description)}\r\n                name=\"description\"\r\n                label=\"Opis\"\r\n                variant=\"outlined\"\r\n                as={TextField}\r\n                multiline\r\n                rows=\"4\"\r\n                className={classes.input}\r\n                value={values.description}\r\n                helperText={\r\n                  !!(errors.description && touched.description) ? errors.description : null\r\n                }\r\n              />\r\n              <Field\r\n                error={!!(errors.phone_number && touched.phone_number)}\r\n                name=\"phone_number\"\r\n                label=\"Numer telefonu\"\r\n                variant=\"outlined\"\r\n                as={TextField}\r\n                className={classes.input}\r\n                value={values.phone_number}\r\n                helperText={\r\n                  !!(errors.phone_number && touched.phone_number) ? errors.phone_number : null\r\n                }\r\n              />\r\n              <Field\r\n                error={!!(errors.localization && touched.localization)}\r\n                name=\"localization\"\r\n                label=\"Lokalizacja\"\r\n                variant=\"outlined\"\r\n                as={TextField}\r\n                className={classes.input}\r\n                value={values.localization}\r\n                helperText={\r\n                  !!(errors.localization && touched.localization) ? errors.localization : null\r\n                }\r\n              />\r\n              <Field\r\n                error={!!(errors.category_id && touched.category_id)}\r\n                name=\"category_id\"\r\n                select\r\n                label=\"Kategoria\"\r\n                variant=\"outlined\"\r\n                as={TextField}\r\n                className={classes.input}\r\n                value={values.category_id}\r\n                helperText={\r\n                  !!(errors.category_id && touched.category_id) ? errors.category_id : null\r\n                }\r\n              >\r\n                {categories.map((option) => (\r\n                  <MenuItem key={option._id} value={option._id}>\r\n                    {option.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Field>\r\n              {/* <input\r\n                accept=\"image/*\"\r\n                style={{ display: 'none' }}\r\n                id=\"raised-button-file\"\r\n                type=\"file\"\r\n                onChange={(event) => {\r\n                  console.log(event.target.files[0]);\r\n                  setFieldValue('photo', event.currentTarget.files[0]);\r\n                }}\r\n              /> */}\r\n              {/* <label htmlFor=\"raised-button-file\" className={classes.input}>\r\n                <Button fullWidth variant=\"outlined\" component=\"span\">\r\n                  Dodaj plik\r\n                </Button>\r\n              </label> */}\r\n              {values.photo ? (\r\n                <Paper className={classes.paper}>\r\n                  <Typography>{values.photo.name}</Typography>\r\n                </Paper>\r\n              ) : (\r\n                ''\r\n              )}\r\n              <Button\r\n                className={classes.button}\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                color=\"primary\"\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n              >\r\n                {isLoading ? <CircularProgress color=\"secondary\" /> : 'Dodaj ogłoszenie'}\r\n              </Button>\r\n            </Box>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </HeaderTemplate>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { Typography, Avatar, CircularProgress, TextField, Button } from '@material-ui/core';\r\nimport { Formik, Form, Field } from 'formik';\r\nimport HeaderTemplate from '../components/templates/HeaderTemplate';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport authService from '../services/authService';\r\nimport SingleAnnoucement from '../components/SingleAnnoucement';\r\nimport accountDetailsStyles from '../styles/accountDetails.styles';\r\n\r\nconst useStyles = accountDetailsStyles;\r\n\r\nconst AccountDetails = () => {\r\n  const classes = useStyles();\r\n  const [userAnnoucements, setUserAnnoucements] = useState(null);\r\n  const [token, setToken] = useState(null);\r\n  const { userId } = useParams();\r\n\r\n  const currentUser = authService.getCurrentUserId();\r\n\r\n  const deleteAnnoucement = (ann_id) => {\r\n    fetch(`https://olxukw.herokuapp.com/removeAnnoucement/${ann_id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    })\r\n      .then((result) => result.json())\r\n      .then((ann) => {\r\n        const annoucements = userAnnoucements.annoucements.filter(\r\n          (el) => el._id !== ann.annoucement._id,\r\n        );\r\n        setUserAnnoucements({ ...userAnnoucements, annoucements: annoucements });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const updateName = (name) => {\r\n    fetch(`https://olxukw.herokuapp.com/setName`, {\r\n      method: 'POST',\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ username: name }),\r\n    })\r\n      .then((result) => result.json())\r\n      .then((ann) => {\r\n        setUserAnnoucements({\r\n          ...userAnnoucements,\r\n          user: { ...userAnnoucements.user, name: name },\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = authService.getCurrentUser();\r\n    setToken(token);\r\n    fetch(`https://olxukw.herokuapp.com/getUserAnnoucements/${userId}`)\r\n      .then((result) => result.json())\r\n      .then((ann) => {\r\n        setUserAnnoucements(ann);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  return (\r\n    <HeaderTemplate>\r\n      <main className={classes.root}>\r\n        {userAnnoucements ? (\r\n          <>\r\n            <Avatar className={classes.avatarSize}>\r\n              <PersonIcon className={classes.avatarSize} />\r\n            </Avatar>\r\n            <Typography component=\"h2\" variant=\"h4\">\r\n              {userAnnoucements.user.name || userAnnoucements.user.email}\r\n            </Typography>\r\n            {userId === currentUser && (\r\n              <Formik\r\n                initialValues={{ username: '' }}\r\n                onSubmit={({ username }, { resetForm }) => {\r\n                  updateName(username);\r\n                  resetForm();\r\n                }}\r\n              >\r\n                {(errors, touched, isSubmitting) => (\r\n                  <Form className={classes.addUserForm}>\r\n                    <Field\r\n                      as={TextField}\r\n                      variant=\"outlined\"\r\n                      label=\"Wprowadź imię\"\r\n                      name=\"username\"\r\n                      error={!!(errors.title && touched.title)}\r\n                      helperText={!!(errors.title && touched.title) ? errors.title : null}\r\n                    />\r\n                    <Button\r\n                      className={classes.addUserFormBtn}\r\n                      variant=\"contained\"\r\n                      type=\"submit\"\r\n                      disabled={isSubmitting}\r\n                    >\r\n                      Zaktualizuj\r\n                    </Button>\r\n                  </Form>\r\n                )}\r\n              </Formik>\r\n            )}\r\n\r\n            <ul className={classes.annoucementsContainer} component=\"ul\">\r\n              {userAnnoucements.annoucements.map(({ _id, ...props }) => (\r\n                <SingleAnnoucement\r\n                  key={_id}\r\n                  _id={_id}\r\n                  {...props}\r\n                  userActions={userId === currentUser}\r\n                  deleteAnnoucement={deleteAnnoucement}\r\n                ></SingleAnnoucement>\r\n              ))}\r\n            </ul>\r\n          </>\r\n        ) : (\r\n          <CircularProgress color=\"secondary\" />\r\n        )}\r\n      </main>\r\n    </HeaderTemplate>\r\n  );\r\n};\r\n\r\nexport default AccountDetails;\r\n","import { makeStyles } from '@material-ui/core';\r\n\r\nconst accountDetailsStyles = makeStyles((theme) => ({\r\n  root: {\r\n    margin: '0 auto',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexDirection: 'column',\r\n    padding: theme.spacing(2),\r\n  },\r\n  avatarSize: {\r\n    margin: theme.spacing(3),\r\n    width: theme.spacing(11),\r\n    height: theme.spacing(11),\r\n  },\r\n  card: {\r\n    width: 250,\r\n    height: 300,\r\n    margin: theme.spacing(1),\r\n    textDecoration: 'none',\r\n  },\r\n  annoucementsContainer: {\r\n    margin: 0,\r\n    width: '80%',\r\n    padding: theme.spacing(2),\r\n    marginTop: theme.spacing(5),\r\n    maxWidth: 1100,\r\n    minWidth: 300,\r\n    listStyle: 'none',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    flexWrap: 'wrap',\r\n    [theme.breakpoints.up('md')]: {\r\n      justifyContent: 'flex-start',\r\n    },\r\n  },\r\n  mediaImage: {\r\n    height: 130,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  text: {\r\n    height: 130,\r\n  },\r\n  addUserForm: {\r\n    margin: 15,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  addUserFormBtn: {\r\n    marginLeft: 30,\r\n  },\r\n}));\r\n\r\nexport default accountDetailsStyles;\r\n","import React from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from '../store';\nimport MainTemplate from '../components/templates/MainTemplate';\nimport Home from './Home';\nimport SignIn from './SignIn';\nimport SignUp from './SignUp';\nimport AnnoucementDetails from './AnnoucementDetails';\nimport AddAnnoucement from './AddAnnoucement';\nimport AccountDetails from './AccountDetails';\nimport authService from '../services/authService';\nimport { CssBaseline, ThemeProvider, createMuiTheme } from '@material-ui/core';\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n  breakpoints: {\n    values: {\n      xs: 0,\n      sm: 700,\n      md: 960,\n      lg: 1280,\n      xl: 1400,\n    },\n  },\n});\n\nconst PrivateRoute = ({ children, ...rest }) => {\n  const token = authService.getCurrentUser();\n\n  return <Route {...rest} render={() => (token ? children : <Redirect to=\"/\" />)} />;\n};\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <ThemeProvider theme={theme}>\n          <MainTemplate>\n            <CssBaseline />\n            <Switch>\n              <Route exact path=\"/\" component={Home} />\n              <Route path=\"/annoucementDetails/:annId\" component={AnnoucementDetails} />\n              <Route path=\"/signin\" component={SignIn} />\n              <Route path=\"/signup\" component={SignUp} />\n              <PrivateRoute path=\"/addannoucement\">\n                <AddAnnoucement />\n              </PrivateRoute>\n              <PrivateRoute path=\"/userdetails/:userId\">\n                <AccountDetails />\n              </PrivateRoute>\n            </Switch>\n          </MainTemplate>\n        </ThemeProvider>\n      </BrowserRouter>\n    </Provider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './views/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}